<main>
    <div class="materials">
        <h1>Materiais</h1>
        <form class="search-field">
            <input matInput placeholder="Pesquisar..." [(ngModel)]="searchTerm" name="searchTerm" (input)="filterCards()">
            <mat-icon class="search-icon">search</mat-icon>
        </form>
        <div class="home-notifications">
          <mat-icon>notifications</mat-icon>
          <img class="profile-picture" src="/assets/images/brunao.jpg" alt="">
      </div>
        </div>
    
    @if (!searchTerm) {
      <div class="flex-container">
        @for (card of filteredCards; track card.titulo) {
            <mat-card class="custom-card">
              <mat-card-content>
                <p class="card-title">{{card.titulo}}</p>
                <p>{{card.disciplina}}</p>
                <p>{{card.assunto}}</p>
                <p>{{card.data_da_postagem}}</p>
              </mat-card-content>
              <mat-card-actions>
                <button mat-icon-button>
                  <mat-icon>star_border</mat-icon>
                </button>
                <a href="{{card.link}}" target="_blank">
                  <mat-icon>visibility</mat-icon>
                </a>
              </mat-card-actions>
            </mat-card>
        }
        </div>
    }
    @else if (filteredCards.length == 0) {
        <div class="no-materials">
            <p>Nenhum material encontrado.</p>
        </div>
    }
    @else {
        <div class="flex-container">
            @for (card of filteredCards; track card.titulo) {
                <mat-card class="custom-card">
                  <mat-card-content>
                    <p class="card-title">{{card.titulo}}</p>
                    <p>{{card.disciplina}}</p>
                    <p>{{card.assunto}}</p>
                    <p>{{card.data_da_postagem}}</p>
                  </mat-card-content>
                  <mat-card-actions>
                    <button mat-icon-button>
                      <mat-icon>star_border</mat-icon>
                    </button>
                    <a href="{{card.link}}" target="_blank">
                      <mat-icon>visibility</mat-icon>
                    </a>
                  </mat-card-actions>
                </mat-card>
            }
            </div>
        }


        <button class="plus-button" routerLink="/form-material" routerLinkActive="active" mat-fab>
          <mat-icon>add</mat-icon>
        </button>
</main>